# Generated by Django 4.2.7 on 2024-09-02 11:46

from decimal import Decimal
from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Account',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('account_name', models.CharField(max_length=255)),
                ('account_type', models.CharField(choices=[('loan', 'Loan Account'), ('disbursement', 'Disbursement Account'), ('repayment', 'Repayment Account'), ('internal_funding', 'Funding Account'), ('internal', 'Internal Account'), ('internal_suspense', 'Internal Suspense Account'), ('interest_accrual', 'Interest Accrual Account'), ('penalty_accrual', 'Penalty Accrual Account'), ('personal_customer', 'Customer Personal Account'), ('current_customer', 'Customer Current Account'), ('business_customer', 'Customer Business Account')], max_length=20)),
                ('general_ledger_no', models.IntegerField()),
                ('account_number', models.CharField(max_length=16, unique=True)),
                ('balance', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=16)),
            ],
        ),
        migrations.CreateModel(
            name='Company',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
            ],
        ),
        migrations.CreateModel(
            name='Customer',
            fields=[
                ('customer_id', models.AutoField(primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=100)),
                ('email', models.EmailField(max_length=254, unique=True)),
                ('phone_number', models.CharField(max_length=15)),
                ('address', models.TextField()),
                ('date_of_birth', models.DateField()),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
            ],
        ),
        migrations.CreateModel(
            name='DocumentType',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255, unique=True)),
                ('description', models.TextField(blank=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='DueRegister',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('due_type', models.CharField(choices=[('principal', 'Principal'), ('interest', 'Interest'), ('penalty', 'Penalty')], max_length=10)),
                ('amount', models.DecimalField(decimal_places=2, max_digits=16)),
                ('due_date', models.DateField()),
                ('is_paid', models.BooleanField(default=False)),
                ('paid_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
            ],
        ),
        migrations.CreateModel(
            name='Loan',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('borrower_name', models.CharField(max_length=255)),
                ('loan_amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('interest_rate', models.DecimalField(decimal_places=2, max_digits=5)),
                ('term_months', models.IntegerField()),
                ('start_date', models.DateField()),
                ('end_date', models.DateField()),
            ],
        ),
        migrations.CreateModel(
            name='LoanAccount',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('balance', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=16)),
                ('accrued_interest', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('accrued_penalty', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=15)),
                ('advance_payment_balance', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=16)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name='LoanAgreement',
            fields=[
                ('agreement_id', models.AutoField(primary_key=True, serialize=False)),
                ('document_path', models.FileField(upload_to='agreements/')),
                ('generated_at', models.DateTimeField(auto_now_add=True)),
                ('status', models.CharField(choices=[('generated', 'Generated'), ('signed', 'Signed'), ('pending', 'Pending')], default='pending', max_length=20)),
            ],
        ),
        migrations.CreateModel(
            name='LoanApplication',
            fields=[
                ('application_id', models.AutoField(primary_key=True, serialize=False)),
                ('loan_type', models.CharField(max_length=50)),
                ('loan_amount', models.DecimalField(decimal_places=2, max_digits=16)),
                ('interest_rate', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5)),
                ('term_count', models.DecimalField(decimal_places=2, default=Decimal('1.00'), max_digits=5)),
                ('term_metric', models.CharField(choices=[('days', 'Days'), ('weeks', 'Weeks'), ('months', 'Months'), ('years', 'Years')], default='months', max_length=10)),
                ('frequency', models.CharField(choices=[('daily', 'Daily'), ('weekly', 'Weekly'), ('monthly', 'Monthly'), ('quarterly', 'Quarterly'), ('halfyearly', 'Half Yearly'), ('annually', 'Annually'), ('one_time', 'One Time')], default='monthly', max_length=20)),
                ('repayment_option', models.CharField(choices=[('principal_only', 'Principal Only'), ('interest_only', 'Interest Only'), ('both', 'Principal and Interest'), ('interest_first', 'Interest First, Principal Later'), ('principal_end', 'Principal at End, Interest Periodically')], default='both', max_length=20)),
                ('status', models.CharField(choices=[('submitted', 'Submitted'), ('under_review', 'Under Review'), ('approved', 'Approved'), ('rejected', 'Rejected')], default='submitted', max_length=20)),
                ('repayment_start_date', models.DateField(blank=True, null=True)),
                ('funeral_period_count', models.IntegerField(blank=True, null=True)),
                ('funeral_period_type', models.CharField(blank=True, choices=[('days', 'Days'), ('weeks', 'Weeks'), ('months', 'Months'), ('years', 'Years')], max_length=10, null=True)),
                ('application_expiry_date', models.DateField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.customer')),
            ],
        ),
        migrations.CreateModel(
            name='LoanOfficer',
            fields=[
                ('officer_id', models.AutoField(primary_key=True, serialize=False)),
                ('department', models.CharField(max_length=100)),
                ('role', models.CharField(max_length=50)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='LoanReport',
            fields=[
                ('report_id', models.AutoField(primary_key=True, serialize=False)),
                ('report_type', models.CharField(choices=[('performance', 'Performance'), ('delinquency', 'Delinquency')], max_length=50)),
                ('generated_at', models.DateTimeField(auto_now_add=True)),
                ('report_data', models.JSONField()),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
        ),
        migrations.CreateModel(
            name='PastDueRecord',
            fields=[
                ('pd_record_id', models.AutoField(primary_key=True, serialize=False)),
                ('loan_account_id', models.IntegerField()),
                ('repayment_schedule_id', models.IntegerField()),
                ('overdue_amount', models.DecimalField(decimal_places=2, max_digits=12)),
                ('overdue_date', models.DateField()),
                ('days_overdue', models.IntegerField()),
                ('status', models.CharField(max_length=50)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name='PDActionWorkflowConfig',
            fields=[
                ('workflow_id', models.AutoField(primary_key=True, serialize=False)),
                ('current_pd_status', models.CharField(choices=[('0-30 Days', '0-30 Days'), ('31-60 Days', '31-60 Days'), ('61-90 Days', '61-90 Days'), ('Above 90 Days', 'Above 90 Days')], max_length=50)),
                ('next_action_type', models.CharField(max_length=100)),
                ('action_timeline_days', models.IntegerField()),
                ('next_pd_status', models.CharField(choices=[('0-30 Days', '0-30 Days'), ('31-60 Days', '31-60 Days'), ('61-90 Days', '61-90 Days'), ('Above 90 Days', 'Above 90 Days')], max_length=50)),
                ('additional_details', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name='PDPenaltiesChargesConfig',
            fields=[
                ('config_id', models.AutoField(primary_key=True, serialize=False)),
                ('penalty_type', models.CharField(max_length=100)),
                ('charge_amount', models.DecimalField(decimal_places=2, max_digits=12)),
                ('charge_frequency', models.CharField(max_length=50)),
                ('charge_trigger', models.CharField(max_length=100)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name='RetentionMetric',
            fields=[
                ('metric_id', models.AutoField(primary_key=True, serialize=False)),
                ('metric_type', models.CharField(choices=[('churn_rate', 'Churn Rate'), ('loyalty_participation', 'Loyalty Participation')], max_length=50)),
                ('value', models.DecimalField(decimal_places=2, max_digits=10)),
                ('calculated_at', models.DateTimeField(auto_now_add=True)),
            ],
        ),
        migrations.CreateModel(
            name='Transaction',
            fields=[
                ('transaction_id', models.AutoField(primary_key=True, serialize=False)),
                ('transaction_type', models.CharField(choices=[('credit', 'Credit'), ('debit', 'Debit')], max_length=6)),
                ('amount', models.DecimalField(decimal_places=2, max_digits=16)),
                ('description', models.TextField(blank=True, null=True)),
                ('transaction_date', models.DateTimeField(auto_now_add=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('account', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.account')),
                ('loan_account', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='LMSapp.loanaccount')),
            ],
        ),
        migrations.CreateModel(
            name='Signature',
            fields=[
                ('signature_id', models.AutoField(primary_key=True, serialize=False)),
                ('signature_data', models.TextField()),
                ('signed_at', models.DateTimeField(auto_now_add=True)),
                ('agreement', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.loanagreement')),
            ],
        ),
        migrations.CreateModel(
            name='Settlement',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('settlement_amount', models.DecimalField(decimal_places=2, max_digits=16)),
                ('settlement_date', models.DateTimeField(auto_now_add=True)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('accepted', 'Accepted'), ('rejected', 'Rejected'), ('completed', 'Completed')], default='pending', max_length=20)),
                ('remarks', models.TextField(blank=True, null=True)),
                ('loan_application', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.loanapplication')),
            ],
        ),
        migrations.CreateModel(
            name='RetentionOffer',
            fields=[
                ('offer_id', models.AutoField(primary_key=True, serialize=False)),
                ('offer_details', models.JSONField()),
                ('sent_at', models.DateTimeField()),
                ('status', models.CharField(choices=[('accepted', 'Accepted'), ('rejected', 'Rejected')], default='pending', max_length=20)),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.customer')),
            ],
        ),
        migrations.CreateModel(
            name='RepaymentSchedule',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('installment_number', models.IntegerField()),
                ('due_date', models.DateField()),
                ('principal_amount', models.DecimalField(decimal_places=2, max_digits=16)),
                ('interest_amount', models.DecimalField(decimal_places=2, max_digits=16)),
                ('total_amount', models.DecimalField(decimal_places=2, max_digits=16)),
                ('penalty_amount', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=16)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('paid', 'Paid')], default='pending', max_length=20)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('loan_application', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.loanapplication')),
            ],
        ),
        migrations.CreateModel(
            name='RepaymentPriority',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('loan_type', models.CharField(max_length=50)),
                ('priority_order', models.JSONField()),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('company', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.company')),
            ],
        ),
        migrations.CreateModel(
            name='RepaymentEODRetry',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('repayment_schedule_id', models.IntegerField()),
                ('retry_date', models.DateField()),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('loan_account', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.loanaccount')),
            ],
        ),
        migrations.CreateModel(
            name='RepaymentAccount',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('balance', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=16)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('loan_account', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.loanaccount')),
            ],
        ),
        migrations.CreateModel(
            name='Reminder',
            fields=[
                ('reminder_id', models.AutoField(primary_key=True, serialize=False)),
                ('reminder_date', models.DateTimeField()),
                ('reminder_channel', models.CharField(choices=[('SMS', 'SMS'), ('Email', 'Email')], max_length=20)),
                ('status', models.CharField(choices=[('sent', 'Sent'), ('pending', 'Pending')], default='pending', max_length=20)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('schedule', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.repaymentschedule')),
            ],
        ),
        migrations.CreateModel(
            name='PenaltyAccrual',
            fields=[
                ('penalty_id', models.AutoField(primary_key=True, serialize=False)),
                ('penalty_amount', models.DecimalField(decimal_places=2, max_digits=12)),
                ('penalty_date', models.DateField()),
                ('penalty_type', models.CharField(max_length=100)),
                ('status', models.CharField(max_length=50)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('pd_record_id', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.pastduerecord')),
            ],
        ),
        migrations.CreateModel(
            name='PDNextAction',
            fields=[
                ('next_action_id', models.AutoField(primary_key=True, serialize=False)),
                ('next_action_date', models.DateField()),
                ('next_action_type', models.CharField(max_length=100)),
                ('action_status', models.CharField(default='Pending', max_length=50)),
                ('current_pd_status', models.CharField(max_length=50)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('pd_record_id', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.pastduerecord')),
            ],
        ),
        migrations.CreateModel(
            name='PDLegalAction',
            fields=[
                ('legal_action_id', models.AutoField(primary_key=True, serialize=False)),
                ('action_id', models.CharField(max_length=100)),
                ('legal_action_date', models.DateField()),
                ('action_type', models.CharField(max_length=100)),
                ('outcome', models.CharField(blank=True, max_length=100, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('pd_record_id', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.pastduerecord')),
            ],
        ),
        migrations.CreateModel(
            name='PDCommunicationLog',
            fields=[
                ('communication_id', models.AutoField(primary_key=True, serialize=False)),
                ('communication_date', models.DateTimeField()),
                ('communication_type', models.CharField(max_length=100)),
                ('mode_of_communication', models.CharField(max_length=50)),
                ('message_content', models.TextField()),
                ('status', models.CharField(max_length=50)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('pd_record_id', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.pastduerecord')),
            ],
        ),
        migrations.CreateModel(
            name='Payment',
            fields=[
                ('payment_id', models.AutoField(primary_key=True, serialize=False)),
                ('amount_paid', models.DecimalField(decimal_places=2, max_digits=10)),
                ('payment_date', models.DateTimeField()),
                ('payment_method', models.CharField(choices=[('bank_transfer', 'Bank Transfer'), ('credit_card', 'Credit Card')], max_length=50)),
                ('status', models.CharField(choices=[('completed', 'Completed'), ('failed', 'Failed')], default='completed', max_length=20)),
                ('schedule', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.repaymentschedule')),
            ],
        ),
        migrations.CreateModel(
            name='PaidItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('amount_paid', models.DecimalField(decimal_places=2, max_digits=15)),
                ('paid_date', models.DateTimeField(auto_now_add=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('due_register', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.dueregister')),
            ],
        ),
        migrations.CreateModel(
            name='LoanSchedule',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('installment_number', models.IntegerField()),
                ('due_date', models.DateField()),
                ('principal_amount', models.DecimalField(decimal_places=2, max_digits=16)),
                ('interest_amount', models.DecimalField(decimal_places=2, max_digits=16)),
                ('total_amount', models.DecimalField(decimal_places=2, max_digits=16)),
                ('status', models.CharField(default='pending', max_length=20)),
                ('application', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='schedules', to='LMSapp.loanapplication')),
            ],
            options={
                'ordering': ['due_date'],
            },
        ),
        migrations.CreateModel(
            name='LoanRestructuring',
            fields=[
                ('restructuring_id', models.AutoField(primary_key=True, serialize=False)),
                ('requested_terms', models.TextField()),
                ('approved_terms', models.TextField(blank=True, null=True)),
                ('status', models.CharField(choices=[('requested', 'Requested'), ('approved', 'Approved'), ('rejected', 'Rejected')], default='requested', max_length=20)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('application', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.loanapplication')),
            ],
        ),
        migrations.CreateModel(
            name='LoanRepaymentTry',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('try_count', models.IntegerField()),
                ('status', models.CharField(max_length=20)),
                ('response_message', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('loan_account', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.loanaccount')),
            ],
        ),
        migrations.CreateModel(
            name='LoanPenaltiesAccrual',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('penalty_date', models.DateField()),
                ('penalty_amount', models.DecimalField(decimal_places=2, max_digits=16)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('loan_account', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.loanaccount')),
            ],
        ),
        migrations.CreateModel(
            name='LoanOfficerReview',
            fields=[
                ('review_id', models.AutoField(primary_key=True, serialize=False)),
                ('decision', models.CharField(choices=[('approved', 'Approved'), ('rejected', 'Rejected'), ('request_more_info', 'Request More Info')], default='approved', max_length=20)),
                ('comments', models.TextField(blank=True, null=True)),
                ('reviewed_at', models.DateTimeField(auto_now_add=True)),
                ('application', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.loanapplication')),
                ('officer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.loanofficer')),
            ],
        ),
        migrations.CreateModel(
            name='LoanMonitoring',
            fields=[
                ('monitoring_id', models.AutoField(primary_key=True, serialize=False)),
                ('alert_type', models.CharField(choices=[('delinquency', 'Delinquency'), ('payment_risk', 'Payment Risk')], max_length=50)),
                ('alert_date', models.DateTimeField(auto_now_add=True)),
                ('action_taken', models.TextField(blank=True, null=True)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('resolved', 'Resolved')], default='pending', max_length=20)),
                ('schedule', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.repaymentschedule')),
            ],
        ),
        migrations.CreateModel(
            name='LoanModification',
            fields=[
                ('modification_id', models.AutoField(primary_key=True, serialize=False)),
                ('current_principal_amount', models.DecimalField(decimal_places=2, max_digits=16)),
                ('principal_increase_decrease', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('new_interest_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('new_term_count', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('new_term_metric', models.CharField(blank=True, choices=[('days', 'Days'), ('weeks', 'Weeks'), ('months', 'Months'), ('years', 'Years')], max_length=10, null=True)),
                ('new_frequency', models.CharField(blank=True, choices=[('daily', 'Daily'), ('weekly', 'Weekly'), ('monthly', 'Monthly'), ('quarterly', 'Quarterly'), ('halfyearly', 'Half Yearly'), ('annually', 'Annually'), ('one_time', 'One Time')], max_length=20, null=True)),
                ('new_repayment_option', models.CharField(blank=True, choices=[('principal_only', 'Principal Only'), ('interest_only', 'Interest Only'), ('both', 'Principal and Interest'), ('interest_first', 'Interest First, Principal Later'), ('principal_end', 'Principal at End, Interest Periodically')], max_length=20, null=True)),
                ('new_interest_basis', models.CharField(blank=True, choices=[('365', '365 Days Basis'), ('other', 'Other Basis')], max_length=10, null=True)),
                ('status', models.CharField(choices=[('submitted', 'Submitted'), ('under_review', 'Under Review'), ('approved', 'Approved'), ('rejected', 'Rejected')], default='submitted', max_length=20)),
                ('modification_date', models.DateTimeField(auto_now_add=True)),
                ('modified_by', models.CharField(max_length=100)),
                ('loan_application', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='modifications', to='LMSapp.loanapplication')),
            ],
        ),
        migrations.CreateModel(
            name='LoanInterestAccrual',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('accrual_date', models.DateField()),
                ('interest_amount', models.DecimalField(decimal_places=2, max_digits=16)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('loan_account', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.loanaccount')),
            ],
        ),
        migrations.CreateModel(
            name='LoanApplicationHistory',
            fields=[
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('loan_type', models.CharField(max_length=50)),
                ('loan_amount', models.DecimalField(decimal_places=2, max_digits=16)),
                ('interest_rate', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5)),
                ('term_count', models.DecimalField(decimal_places=2, default=Decimal('1.00'), max_digits=5)),
                ('term_metric', models.CharField(choices=[('days', 'Days'), ('weeks', 'Weeks'), ('months', 'Months'), ('years', 'Years')], default='months', max_length=10)),
                ('frequency', models.CharField(choices=[('daily', 'Daily'), ('weekly', 'Weekly'), ('monthly', 'Monthly'), ('quarterly', 'Quarterly'), ('halfyearly', 'Half Yearly'), ('annually', 'Annually'), ('one_time', 'One Time')], default='monthly', max_length=20)),
                ('repayment_option', models.CharField(choices=[('principal_only', 'Principal Only'), ('interest_only', 'Interest Only'), ('both', 'Principal and Interest'), ('interest_first', 'Interest First, Principal Later'), ('principal_end', 'Principal at End, Interest Periodically')], default='both', max_length=20)),
                ('interest_basis', models.CharField(choices=[('365', '365 Days Basis'), ('other', 'Other Basis')], default='365', max_length=10)),
                ('status', models.CharField(choices=[('submitted', 'Submitted'), ('under_review', 'Under Review'), ('approved', 'Approved'), ('rejected', 'Rejected')], default='submitted', max_length=20)),
                ('created_at', models.DateTimeField()),
                ('updated_at', models.DateTimeField()),
                ('modification_date', models.DateTimeField(auto_now_add=True)),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.customer')),
                ('loan_application', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='history', to='LMSapp.loanapplication')),
            ],
            options={
                'ordering': ['-modification_date'],
            },
        ),
        migrations.AddField(
            model_name='loanagreement',
            name='application',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.loanapplication'),
        ),
        migrations.CreateModel(
            name='LoanAccountReceivable',
            fields=[
                ('receivable_id', models.AutoField(primary_key=True, serialize=False)),
                ('loan_account_id', models.IntegerField()),
                ('amount_type', models.CharField(max_length=100)),
                ('amount_due', models.DecimalField(decimal_places=2, max_digits=12)),
                ('amount_paid', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('due_date', models.DateField()),
                ('status', models.CharField(max_length=50)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('pd_record_id', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.pastduerecord')),
            ],
        ),
        migrations.CreateModel(
            name='LoanAccountEntry',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('entry_type', models.CharField(max_length=20)),
                ('amount', models.DecimalField(decimal_places=2, max_digits=16)),
                ('entry_date', models.DateField()),
                ('description', models.TextField()),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('loan_account', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.loanaccount')),
            ],
        ),
        migrations.AddField(
            model_name='loanaccount',
            name='loan_application',
            field=models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.loanapplication'),
        ),
        migrations.CreateModel(
            name='Ledger',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=16)),
                ('entry_date', models.DateTimeField(auto_now_add=True)),
                ('credit_account', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='credit_entries', to='LMSapp.account')),
                ('debit_account', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='debit_entries', to='LMSapp.account')),
                ('transaction', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.transaction')),
            ],
        ),
        migrations.CreateModel(
            name='LatePayment',
            fields=[
                ('late_payment_id', models.AutoField(primary_key=True, serialize=False)),
                ('days_late', models.IntegerField()),
                ('penalty_amount', models.DecimalField(decimal_places=2, max_digits=16)),
                ('applied_at', models.DateTimeField(auto_now_add=True)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('resolved', 'Resolved')], default='pending', max_length=20)),
                ('schedule', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.repaymentschedule')),
            ],
        ),
        migrations.CreateModel(
            name='IdentityVerification',
            fields=[
                ('verification_id', models.AutoField(primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('verified', 'Verified'), ('failed', 'Failed')], default='failed', max_length=20)),
                ('verification_details', models.TextField(blank=True, null=True)),
                ('verified_at', models.DateTimeField(auto_now_add=True)),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.customer')),
            ],
        ),
        migrations.CreateModel(
            name='FraudCheck',
            fields=[
                ('fraud_check_id', models.AutoField(primary_key=True, serialize=False)),
                ('fraud_score', models.IntegerField()),
                ('alerts', models.TextField(blank=True, null=True)),
                ('checked_at', models.DateTimeField(auto_now_add=True)),
                ('application', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.loanapplication')),
            ],
        ),
        migrations.CreateModel(
            name='FailedLoanRepayments',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('schedule_id', models.IntegerField()),
                ('try_ids', models.JSONField()),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('loan_account', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.loanaccount')),
            ],
        ),
        migrations.CreateModel(
            name='EmploymentVerification',
            fields=[
                ('employment_id', models.AutoField(primary_key=True, serialize=False)),
                ('employer_name', models.CharField(max_length=100)),
                ('status', models.CharField(choices=[('verified', 'Verified'), ('failed', 'Failed')], default='failed', max_length=20)),
                ('verified_at', models.DateTimeField(auto_now_add=True)),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.customer')),
            ],
        ),
        migrations.AddField(
            model_name='dueregister',
            name='loan_account',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.loanaccount'),
        ),
        migrations.CreateModel(
            name='Document',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255)),
                ('file', models.FileField(upload_to='documents/')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('global_access', models.BooleanField(default=False)),
                ('view_count', models.IntegerField(default=0)),
                ('document_type', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.documenttype')),
                ('loan_application', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='LMSapp.loanapplication')),
                ('user_access', models.ManyToManyField(blank=True, related_name='document_access', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='DisbursementAccount',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('balance', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=16)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('loan_account', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.loanaccount')),
            ],
        ),
        migrations.CreateModel(
            name='Disbursement',
            fields=[
                ('disbursement_id', models.AutoField(primary_key=True, serialize=False)),
                ('bank_account', models.CharField(max_length=50)),
                ('amount', models.DecimalField(decimal_places=2, max_digits=16)),
                ('disbursed_at', models.DateTimeField(auto_now_add=True)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('completed', 'Completed')], default='pending', max_length=20)),
                ('loan_application', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.loanapplication')),
            ],
        ),
        migrations.CreateModel(
            name='CustomerProfile',
            fields=[
                ('profile_id', models.AutoField(primary_key=True, serialize=False)),
                ('credit_score', models.IntegerField()),
                ('loan_history', models.JSONField()),
                ('updated_at', models.DateTimeField(auto_now_add=True)),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.customer')),
            ],
        ),
        migrations.CreateModel(
            name='CustomerCommunication',
            fields=[
                ('communication_id', models.AutoField(primary_key=True, serialize=False)),
                ('message_content', models.TextField()),
                ('communication_type', models.CharField(choices=[('status_update', 'Status Update'), ('promotion', 'Promotion')], max_length=50)),
                ('sent_at', models.DateTimeField()),
                ('status', models.CharField(choices=[('sent', 'Sent'), ('failed', 'Failed')], default='sent', max_length=20)),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.customer')),
            ],
        ),
        migrations.CreateModel(
            name='CreditHistory',
            fields=[
                ('credit_id', models.AutoField(primary_key=True, serialize=False)),
                ('credit_score', models.IntegerField()),
                ('credit_report', models.TextField()),
                ('checked_at', models.DateTimeField(auto_now_add=True)),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.customer')),
            ],
        ),
        migrations.CreateModel(
            name='CreditAssessment',
            fields=[
                ('assessment_id', models.AutoField(primary_key=True, serialize=False)),
                ('credit_score', models.IntegerField()),
                ('risk_rating', models.CharField(choices=[('low', 'Low'), ('medium', 'Medium'), ('high', 'High')], max_length=20)),
                ('assessment_date', models.DateTimeField(auto_now_add=True)),
                ('loan_offer_recommendations', models.JSONField()),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.customer')),
            ],
        ),
        migrations.CreateModel(
            name='Collection',
            fields=[
                ('collection_id', models.AutoField(primary_key=True, serialize=False)),
                ('action_type', models.CharField(choices=[('reminder', 'Reminder'), ('legal_notice', 'Legal Notice'), ('third_party_agency', 'Third Party Agency')], max_length=50)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('completed', 'Completed')], default='pending', max_length=20)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('loan_application', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.loanapplication')),
            ],
        ),
        migrations.CreateModel(
            name='BalanceAdjustment',
            fields=[
                ('adjustment_id', models.AutoField(primary_key=True, serialize=False)),
                ('adjustment_type', models.CharField(choices=[('prepayment', 'Prepayment'), ('penalty', 'Penalty')], max_length=20)),
                ('amount', models.DecimalField(decimal_places=2, max_digits=16)),
                ('adjusted_at', models.DateTimeField(auto_now_add=True)),
                ('new_balance', models.DecimalField(decimal_places=2, max_digits=16)),
                ('schedule', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='LMSapp.repaymentschedule')),
            ],
        ),
    ]
